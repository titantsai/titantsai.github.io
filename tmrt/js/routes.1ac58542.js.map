{"version":3,"sources":["webpack:///./node_modules/ngraph.events/index.js","webpack:///./node_modules/panzoom/lib/createTextSelectionInterceptor.js","webpack:///./src/components/RouteMap.vue?0639","webpack:///./src/components/DetailSheet.vue?3383","webpack:///./node_modules/panzoom/lib/transform.js","webpack:///./src/views/Map.vue","webpack:///./src/components/RouteMap.vue","webpack:///./src/components/RouteMap.vue?6c82","webpack:///./src/components/DetailSheet.vue","webpack:///./src/components/DetailSheet.vue?e9d8","webpack:///./src/views/Map.vue?ffc1","webpack:///./node_modules/panzoom/lib/domController.js","webpack:///./node_modules/amator/index.js","webpack:///./src/assets/fac-stair.png","webpack:///./node_modules/panzoom/index.js","webpack:///./node_modules/wheel/index.js","webpack:///./src/views/Map.vue?af19","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/assets/fac-escalator.png","webpack:///./node_modules/panzoom/lib/svgController.js","webpack:///./node_modules/bezier-easing/src/index.js","webpack:///./src/assets/fac-elevator.png","webpack:///./node_modules/panzoom/lib/kinetic.js"],"names":["createEventsStorage","subject","registeredEvents","Object","create","on","eventName","callback","ctx","Error","handlers","push","off","wantToRemoveAll","deleteAllCallbacksForEvent","callbacks","i","length","splice","fire","fireArguments","arguments","Array","prototype","call","callbackInfo","apply","validateSubject","reservedWords","hasOwnProperty","module","exports","eventsStorage","createTextSelectionInterceptor","useFake","capture","noop","release","dragObject","prevSelectStart","prevDragStart","wasCaptured","domObject","window","document","onselectstart","ondragstart","disabled","e","stopPropagation","Transform","this","x","y","scale","class","id","Routes","route","key","src","path","alt","stations","station","style","position","top","left","selectStation","transit","color","tag","zh","created","$store","dispatch","mounted","panzoom","querySelector","bounds","smoothScroll","minZoom","maxZoom","initialZoom","data","methods","index","store","computed","state","database","render","__scopeId","selected","name","line","servicetime","time","to","via","first","last","exits","exit","num","hints","services","service","getStationInfo","RouteData","getStation","then","res","current","catch","err","console","log","watch","components","RouteMap","DetailSheet","makeDomController","domElement","options","elementValid","isDomElement","owner","parentElement","scrollTop","disableKeyboardInteraction","setAttribute","api","getBBox","getOwner","applyTransform","width","clientWidth","height","clientHeight","transform","transformOrigin","element","canAttach","BezierEasing","animations","ease","easeIn","easeOut","easeInOut","linear","animate","source","target","start","diff","easing","warn","step","done","scheduler","getScheduler","keys","forEach","previousAnimationId","durationInMs","duration","durationInFrames","Math","max","frame","next","loop","cancel","t","setValues","setTimeout","canRaf","requestAnimationFrame","rafScheduler","timeoutScheduler","bind","cancelAnimationFrame","cb","clearTimeout","makeAggregateRaf","frontBuffer","Set","backBuffer","frameToken","clearAll","clear","add","renderNextFrame","renderFrame","sharedScheduler","wheel","eventify","kinetic","domTextSelectionInterceptor","fakeTextSelectorInterceptor","makeSvgController","defaultZoomSpeed","defaultDoubleTapZoomSpeed","doubleTapSpeedInMS","createPanZoom","panController","controller","storedCTMResult","isDirty","initTransform","frameAnimation","filterKey","pinchSpeed","Number","POSITIVE_INFINITY","boundsPadding","zoomDoubleClickSpeed","beforeWheel","beforeMouseDown","speed","zoomSpeed","parseTransformOrigin","textSelection","enableTextSelection","validateBounds","autocenter","lastSingleFingerOffset","mouseX","mouseY","pinchZoomLength","moveByAnimation","zoomToAnimation","multiTouch","lastTouchEndTime","touchInProgress","panstartFired","rigidScroll","getPoint","scroll","paused","listenForEvents","dispose","moveBy","internalMoveBy","moveTo","smoothMoveTo","centerOn","zoomTo","publicZoomTo","zoomAbs","smoothZoom","smoothZoomAbs","showRectangle","pause","resume","isPaused","getTransform","getTransformModel","getMinZoom","setMinZoom","getMaxZoom","setMaxZoom","getTransformOrigin","setTransformOrigin","getZoomSpeed","setZoomSpeed","initialX","initialY","releaseEvents","rect","clientRect","getBoundingClientRect","size","transformToScreen","rectWidth","right","rectHeight","bottom","isFinite","dw","dh","min","getScreenCTM","parentCTM","parentScaleX","a","parentScaleY","d","parentOffsetX","parentOffsetY","f","w","h","sceneBoundingBox","getBoundingBox","ownerRect","bbox","newMinZoom","newMaxZoom","newTransformOrigin","newSpeed","keepTransformInsideBounds","triggerEvent","makeDirty","dx","dy","boundingBox","adjusted","getClientRect","sceneWidth","sceneHeight","leftTop","client","zoomByRatio","clientX","clientY","ratio","isNaN","newScale","transformAdjusted","zoomLevel","ui","parent","ownerSVGElement","cx","cy","container","smooth","from","lastX","lastY","v","cancelZoomAnimation","addEventListener","onMouseDown","passive","onDoubleClick","onTouch","onKeyDown","addWheelListener","onMouseWheel","removeWheelListener","removeEventListener","releaseDocumentMouse","releaseTouches","triggerPanEnd","z","keyCode","preventDefault","offset","moveSpeedRatio","scaleMultiplier","getScaleMultiplier","getTransformOriginOffset","midPoint","beforeTouch","touches","handleSingleFingerTouch","getPinchZoomLength","startTouchListenerIfNeeded","beforeDoubleClick","touch","getOffsetXY","point","handleTouchMove","handleTouchEnd","triggerPanStart","t1","t2","currentPinchLength","firstTouchPoint","secondTouchPoint","now","Date","finger1","finger2","sqrt","isLeftButton","button","event","onMouseMove","onMouseUp","srcElement","delta","deltaY","deltaMode","offsetX","offsetY","fromValue","triggerZoomEnd","toScaleValue","sign","deltaAdjustedSpeed","abs","stop","isNumber","failTransformOrigin","error","join","boundsType","validBounds","value","autoRun","scripts","getElementsByTagName","panzoomScript","match","query","getAttribute","globalName","started","tryAttach","el","elapsed","collectOptions","script","attrs","attributes","j","attr","nameValue","getPanzoomAttributeNameValue","isPanZoomAttribute","substr","JSON","parse","listener","useCapture","DESCRIPTORS","defineProperty","FunctionPrototype","Function","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","svgElement","isSVGElement","ctm","getCTM","screenCTM","createElementNS","createSVGMatrix","removeAttributeNS","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","Float32Array","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","newtonRaphsonIterate","aGuessT","currentSlope","LinearEasing","mY1","mY2","sampleValues","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","settings","lastPoint","timestamp","ticker","vx","targetX","ax","vy","targetY","ay","raf","minVelocity","amplitude","getCancelAnimationFrame","getRequestAnimationFrame","timeConstant","track","currentPoint","dt","autoScroll","moving","exp","handler"],"mappings":"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","file":"js/routes.1ac58542.js","sourcesContent":["module.exports = function eventify(subject) {\n  validateSubject(subject);\n\n  var eventsStorage = createEventsStorage(subject);\n  subject.on = eventsStorage.on;\n  subject.off = eventsStorage.off;\n  subject.fire = eventsStorage.fire;\n  return subject;\n};\n\nfunction createEventsStorage(subject) {\n  // Store all event listeners to this hash. Key is event name, value is array\n  // of callback records.\n  //\n  // A callback record consists of callback function and its optional context:\n  // { 'eventName' => [{callback: function, ctx: object}] }\n  var registeredEvents = Object.create(null);\n\n  return {\n    on: function (eventName, callback, ctx) {\n      if (typeof callback !== 'function') {\n        throw new Error('callback is expected to be a function');\n      }\n      var handlers = registeredEvents[eventName];\n      if (!handlers) {\n        handlers = registeredEvents[eventName] = [];\n      }\n      handlers.push({callback: callback, ctx: ctx});\n\n      return subject;\n    },\n\n    off: function (eventName, callback) {\n      var wantToRemoveAll = (typeof eventName === 'undefined');\n      if (wantToRemoveAll) {\n        // Killing old events storage should be enough in this case:\n        registeredEvents = Object.create(null);\n        return subject;\n      }\n\n      if (registeredEvents[eventName]) {\n        var deleteAllCallbacksForEvent = (typeof callback !== 'function');\n        if (deleteAllCallbacksForEvent) {\n          delete registeredEvents[eventName];\n        } else {\n          var callbacks = registeredEvents[eventName];\n          for (var i = 0; i < callbacks.length; ++i) {\n            if (callbacks[i].callback === callback) {\n              callbacks.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      return subject;\n    },\n\n    fire: function (eventName) {\n      var callbacks = registeredEvents[eventName];\n      if (!callbacks) {\n        return subject;\n      }\n\n      var fireArguments;\n      if (arguments.length > 1) {\n        fireArguments = Array.prototype.splice.call(arguments, 1);\n      }\n      for(var i = 0; i < callbacks.length; ++i) {\n        var callbackInfo = callbacks[i];\n        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);\n      }\n\n      return subject;\n    }\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('Eventify cannot use falsy object as events subject');\n  }\n  var reservedWords = ['on', 'fire', 'off'];\n  for (var i = 0; i < reservedWords.length; ++i) {\n    if (subject.hasOwnProperty(reservedWords[i])) {\n      throw new Error(\"Subject cannot be eventified, since it already has property '\" + reservedWords[i] + \"'\");\n    }\n  }\n}\n","/**\n * Disallows selecting text.\n */\nmodule.exports = createTextSelectionInterceptor;\n\nfunction createTextSelectionInterceptor(useFake) {\n  if (useFake) {\n    return {\n      capture: noop,\n      release: noop\n    };\n  }\n\n  var dragObject;\n  var prevSelectStart;\n  var prevDragStart;\n  var wasCaptured = false;\n\n  return {\n    capture: capture,\n    release: release\n  };\n\n  function capture(domObject) {\n    wasCaptured = true;\n    prevSelectStart = window.document.onselectstart;\n    prevDragStart = window.document.ondragstart;\n\n    window.document.onselectstart = disabled;\n\n    dragObject = domObject;\n    dragObject.ondragstart = disabled;\n  }\n\n  function release() {\n    if (!wasCaptured) return;\n    \n    wasCaptured = false;\n    window.document.onselectstart = prevSelectStart;\n    if (dragObject) dragObject.ondragstart = prevDragStart;\n  }\n}\n\nfunction disabled(e) {\n  e.stopPropagation();\n  return false;\n}\n\nfunction noop() {}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RouteMap.vue?vue&type=style&index=0&id=3310b002&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DetailSheet.vue?vue&type=style&index=0&id=80071014&scoped=true&lang=css\"","module.exports = Transform;\n\nfunction Transform() {\n  this.x = 0;\n  this.y = 0;\n  this.scale = 1;\n}\n","<template>\n\n  <div class=\"map\">\n    <DetailSheet />\n    <RouteMap />\n  </div>\n\n</template>\n\n<script>\n\nimport RouteMap from '../components/RouteMap'\nimport DetailSheet from '../components/DetailSheet'\n\nexport default {\n  components:{\n    RouteMap,\n    DetailSheet\n    }\n}\n</script>\n\n<style scoped>\n  .map{\n    display:flex;\n    justify-content: center;\n  }\n</style>","<template>\n  <div class=\"route\">\n    <div class=\"route-map\" id=\"routemap\">\n        <div v-for=\"route in Routes\" :key=\"route.id\">\n            <div class=\"route-bg\">\n              <img :src=\"route.path\" alt=\"\">\n            </div>\n            <div \n              class=\"route-station\" \n              v-for=\"station in route.stations\" \n              :key=\"station.id\" \n              :style=\"{top:`${station.position.top}`,left:`${station.position.left}`}\"\n              @click=\"selectStation(station.id)\">\n              <span class=\"route-station-dot\" :class=\"{hasTransit:station.transit}\" :style=\"{borderColor:`${route.color}`}\"></span>\n              <div class=\"route-station-tag\" :class=\"`${station.position.tag}`\">{{station.zh}}</div>\n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport store from '@/store'\nimport Panzoom from 'panzoom'\n\nexport default {\n    created(){\n       this.$store.dispatch('initRoute');\n       this.selectStation(110)\n    },\n    mounted(){\n      this.panzoom = Panzoom(document.querySelector('#routemap'),{\n        bounds:true,\n        smoothScroll:false,\n        minZoom:0.5,\n        maxZoom:2,\n        initialZoom:0.75,\n      })\n    },\n    data(){\n      return{\n        \n      }\n    },\n    methods:{\n      selectStation(index){\n          store.dispatch('selection',index);\n      }\n    },\n    computed:{\n        Routes(){\n            return store.state.database\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n  .route{\n    width:calc(100% - 375px);\n    padding:1em;\n    top:0;\n    left:375px;\n    overflow:hidden;\n  }\n\n  .route-map{\n    position:relative;\n    width:840px;\n    height:570px;\n    margin-left:auto;\n    margin-right:auto;\n  }\n\n\n  @media screen and (max-width:512px) {\n      .route{\n        max-width:100%;\n        width:375px;\n        min-height:570px;\n        overflow-x:auto;\n        overflow-y:hidden;\n      }\n\n      .route-map{\n        transform: matrix(0.75,0,0,0.75,-100,-50);\n      }\n  }\n\n  .route-bg{\n    position:absolute;\n    top:0;\n    left:0;\n    z-index:-1;\n  }\n\n  .route-station{\n    position: absolute;\n  }\n\n  .route-station-dot{\n    display:block;\n    width:10px;\n    height:10px;\n    border:3px solid var(--green);\n    border-radius: 50%;\n    background-color:var(--grey);\n    z-index:2;\n    transform:translate(-50%, -50%);\n  }\n\n  .route-station-tag{\n    color:var(--map-tag);\n    position:absolute;\n    display: block;\n    width:64px;\n    text-align: center;\n    font-size:14px;\n  }\n\n  .top{top:-30px;left:-32px;}\n\n  .bottom{top:15px;left:-32px;}\n\n  .left{top:-8px;left:-84px;text-align:end}\n\n  .right{top:-8px;left:15px;text-align:start}\n\n  .bottom-left{top:15px;left:-75px;width:72px;text-align: end;}\n\n  .hasTransit{\n    background-color:#494949;\n  }\n</style>","import { render } from \"./RouteMap.vue?vue&type=template&id=3310b002&scoped=true\"\nimport script from \"./RouteMap.vue?vue&type=script&lang=js\"\nexport * from \"./RouteMap.vue?vue&type=script&lang=js\"\n\nimport \"./RouteMap.vue?vue&type=style&index=0&id=3310b002&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-3310b002\"\n\nexport default script","<template>\n    <div class=\"detail-sheet\">\n        <div class=\"ds-header\">\n            <div class=\"ds-num\">\n                <img :src=\"selected.src\"> \n            </div>\n            <div class=\"ds-station\"> \n                <h3>{{selected.name}}</h3>\n                <p>{{selected.line}}</p>\n            </div>\n        </div>\n        <div class=\"ds-nav\">\n            <div class=\"ds-nav-item\">旅程規劃</div>\n            <div class=\"ds-nav-item\">車站資訊</div>\n            <div class=\"ds-nav-item\">轉乘資訊</div>\n        </div>\n        <div class=\"ds-nav-view\">\n            <div class=\"ds-list\">\n                <div class=\"ds-list-header\">首末班車</div>\n                <ul>\n                    <li class=\"ds-list-item ds-list-schedule\" v-for=\"time in selected.servicetime\" :key=\"time.to\">\n                        <div class=\"ds-schedule\">\n                            <div class=\"ds-schedule-via\"><img :src=\"time.via\"/></div>\n                            <div class=\"ds-schedule-name\">\n                                <h3>往{{time.to}}</h3>\n                            </div>\n                        </div>\n\n                        <div style=\"display:flex;margin-right:16px;\">\n                            <div class=\"ds-time\"><span class=\"ds-badge\">首</span>{{time.first}}</div>\n                            <div class=\"ds-time\"><span class=\"ds-badge\">末</span>{{time.last}}</div>\n                        </div>\n                    </li>\n                </ul>\n                <div class=\"ds-list-header\">出入口資訊</div>\n                <ul>\n                    <li class=\"ds-list-item ds-list-exit\" v-for=\"exit in selected.exits\" :key=\"exit.num\">\n                        <div class=\"ds-exit\">\n                            <img class=\"ds-exit-num\" :src=\"exit.src\" alt=\"\">\n                            <div class=\"ds-exit-name\">\n                                <h3>{{exit.name}}</h3>\n                                <p>{{exit.hints}}</p>\n                            </div>\n                        </div>\n                        <div class=\"ds-exit-type-group\">\n                            <img src=\"../assets/fac-stair.png\">\n                            <img src=\"../assets/fac-escalator.png\"> \n                            <img src=\"../assets/fac-elevator.png\">  \n                        </div>\n                    </li>\n                </ul>\n                <div class=\"ds-list-header\">車站設施</div>\n                <ul>\n                    <li class=\"ds-list-item\" v-for=\"service in selected.services\" :key=\"service.name\">\n                        <div class=\"ds-service-img\"><img :src=\"service.src\" alt=\"\"></div>\n                        <div class=\"ds-service-name\">\n                            <h3>{{service.name}}</h3>\n                            <p>{{service.position}}</p>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport store from '@/store'\nimport RouteData from '@/services/RouteData.js'\n\nexport default {\n    data(){\n        return{\n        }\n    },\n    mounted(){\n    },\n    methods:{\n        getStationInfo(id){\n            RouteData.getStation(id)\n            .then(res=>this.current=res.data)\n            .catch(err=>console.log(err))\n        }\n    },\n\n    computed:{\n        \n        Routes(){\n            return store.state.database\n        },\n\n        selected(){\n            return store.state.current\n        }\n    },\n    watch:{\n\n    }\n}\n</script>\n\n<style scoped>\n    .detail-sheet{\n        width:375px;\n        height:100vh;\n        top:0;\n        left:0;\n        background:var(--grey);\n        overflow: auto;\n    }\n\n    .ds-header{\n        padding:16px;\n        display: flex;\n        align-items: center;\n        background: var(--white);\n    }\n\n    .ds-nav{\n        display: grid;\n        grid-template-columns: 1fr 1fr 1fr;\n        grid-gap:12px;\n        padding:16px;\n        background-color: var(--white);\n    }\n\n    .ds-nav-item{\n        padding:8px;\n        background: var(--grey);\n        border-radius: 6px;\n        font-size:13px;\n        color:var(--caption)\n    }\n\n    .ds-schedule-via, .ds-exit-num, .ds-num img,.ds-service-img img{\n        margin-right:16px;\n        width:37px;\n        height:37px;\n    }\n\n    .ds-station{\n        text-align: start;\n    }\n\n    .ds-station h3{\n        line-height: 23px;\n        font-size:19px;\n        color:var(--black);\n        margin:0;\n        margin-bottom: 3px;\n    }\n\n    .ds-station p{\n        line-height: 14px;\n        font-size:12px;\n        margin:0;\n    }\n\n    .ds-list{\n        background-color:var(--grey);\n        margin-bottom:1.5em;\n    }\n\n    .ds-list ul{\n        list-style: none;\n        margin:0;\n        padding:0;\n        border-top:0.5px solid #b8b8b848;\n        border-bottom:0.5px solid #b8b8b848;\n        background-color:var(--white)\n    }\n\n    .ds-list-header{\n        text-align: start;\n        padding:8px 16px 4px 16px;\n        font-size:13px;\n        line-height: 18px;\n        color:var(--caption)\n    }\n\n    .ds-list-item{\n        height:72px;\n        box-sizing: border-box;\n        display: flex;\n        align-items: center;\n        padding:12px 0;\n        margin-left:16px;\n        border-bottom:1px solid #b8b8b836\n    }\n\n    .ds-list-item:only-child, .ds-list-item:last-child{\n        border-bottom: none;\n    }\n\n    .ds-list-schedule, .ds-list-exit{\n        display: flex;\n        justify-content: space-between;\n    }\n\n    .ds-time{\n        display: flex;\n        font-size:15px;\n        color:var(--heading);}\n\n    .ds-badge{\n        padding:2px 4px;\n        font-size:12px;\n        border-radius: 4px;\n        background-color:var(--caption);\n        color:var(--white);\n        margin:0 6px;\n        vertical-align: baseline;\n    }\n\n    .ds-schedule,.ds-exit{\n        display:flex;\n        align-items: center;\n    }\n\n    .ds-schedule-name h3{\n        margin:0;\n        font-size:17px;\n        color:var(--heading);\n        padding:0;\n        line-height: 22px;\n        font-weight:400;\n    }\n\n    .ds-exit-name h3, p{\n        margin:0;\n        margin-bottom:3px;\n        text-align: start;\n    }\n\n    .ds-exit-name h3{\n        font-weight:400;\n        font-size:17px;\n        line-height: 22px;\n        color:var(--heading);\n    }\n\n    .ds-exit-name p{\n        font-weight: 400;\n        font-size:12px;\n        line-height: 14px;\n        color:var(--caption)\n    }\n\n    .ds-exit-type-group{\n        margin:0;\n        margin-right:16px;\n    }\n\n    .ds-exit-type-group img{\n        width:24px;\n        height:24px;\n        margin-left:8px\n    }\n\n    .ds-service-name{\n        text-align: start;\n    }\n\n    .ds-service-name h3, p{\n        font-weight:400;\n        margin:0;\n        margin-bottom: 3px;\n    }\n\n    .ds-service-name h3{\n        font-size:17px;\n        color:var(--heading)\n    }\n\n    .ds-service-name p{\n        font-size:12px;\n        color:var(--caption)\n    }\n\n\n    @media screen and (max-width:512px) {\n        .detail-sheet{\n            position:absolute;\n            z-index:3;\n            top:60px;\n            width: 100%;\n            border-radius: 10px 10px 0 0;\n            overflow:hidden;\n        }\n        \n    }\n</style>","import { render } from \"./DetailSheet.vue?vue&type=template&id=80071014&scoped=true\"\nimport script from \"./DetailSheet.vue?vue&type=script&lang=js\"\nexport * from \"./DetailSheet.vue?vue&type=script&lang=js\"\n\nimport \"./DetailSheet.vue?vue&type=style&index=0&id=80071014&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-80071014\"\n\nexport default script","import { render } from \"./Map.vue?vue&type=template&id=da944500&scoped=true\"\nimport script from \"./Map.vue?vue&type=script&lang=js\"\nexport * from \"./Map.vue?vue&type=script&lang=js\"\n\nimport \"./Map.vue?vue&type=style&index=0&id=da944500&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-da944500\"\n\nexport default script","module.exports = makeDomController;\n\nmodule.exports.canAttach = isDomElement;\n\nfunction makeDomController(domElement, options) {\n  var elementValid = isDomElement(domElement); \n  if (!elementValid) {\n    throw new Error('panzoom requires DOM element to be attached to the DOM tree');\n  }\n\n  var owner = domElement.parentElement;\n  domElement.scrollTop = 0;\n  \n  if (!options.disableKeyboardInteraction) {\n    owner.setAttribute('tabindex', 0);\n  }\n\n  var api = {\n    getBBox: getBBox,\n    getOwner: getOwner,\n    applyTransform: applyTransform,\n  };\n  \n  return api;\n\n  function getOwner() {\n    return owner;\n  }\n\n  function getBBox() {\n    // TODO: We should probably cache this?\n    return  {\n      left: 0,\n      top: 0,\n      width: domElement.clientWidth,\n      height: domElement.clientHeight\n    };\n  }\n\n  function applyTransform(transform) {\n    // TODO: Should we cache this?\n    domElement.style.transformOrigin = '0 0 0';\n    domElement.style.transform = 'matrix(' +\n      transform.scale + ', 0, 0, ' +\n      transform.scale + ', ' +\n      transform.x + ', ' + transform.y + ')';\n  }\n}\n\nfunction isDomElement(element) {\n  return element && element.parentElement && element.style;\n}\n","var BezierEasing = require('bezier-easing')\n\n// Predefined set of animations. Similar to CSS easing functions\nvar animations = {\n  ease:  BezierEasing(0.25, 0.1, 0.25, 1),\n  easeIn: BezierEasing(0.42, 0, 1, 1),\n  easeOut: BezierEasing(0, 0, 0.58, 1),\n  easeInOut: BezierEasing(0.42, 0, 0.58, 1),\n  linear: BezierEasing(0, 0, 1, 1)\n}\n\n\nmodule.exports = animate;\nmodule.exports.makeAggregateRaf = makeAggregateRaf;\nmodule.exports.sharedScheduler = makeAggregateRaf();\n\n\nfunction animate(source, target, options) {\n  var start = Object.create(null)\n  var diff = Object.create(null)\n  options = options || {}\n  // We let clients specify their own easing function\n  var easing = (typeof options.easing === 'function') ? options.easing : animations[options.easing]\n\n  // if nothing is specified, default to ease (similar to CSS animations)\n  if (!easing) {\n    if (options.easing) {\n      console.warn('Unknown easing function in amator: ' + options.easing);\n    }\n    easing = animations.ease\n  }\n\n  var step = typeof options.step === 'function' ? options.step : noop\n  var done = typeof options.done === 'function' ? options.done : noop\n\n  var scheduler = getScheduler(options.scheduler)\n\n  var keys = Object.keys(target)\n  keys.forEach(function(key) {\n    start[key] = source[key]\n    diff[key] = target[key] - source[key]\n  })\n\n  var durationInMs = typeof options.duration === 'number' ? options.duration : 400\n  var durationInFrames = Math.max(1, durationInMs * 0.06) // 0.06 because 60 frames pers 1,000 ms\n  var previousAnimationId\n  var frame = 0\n\n  previousAnimationId = scheduler.next(loop)\n\n  return {\n    cancel: cancel\n  }\n\n  function cancel() {\n    scheduler.cancel(previousAnimationId)\n    previousAnimationId = 0\n  }\n\n  function loop() {\n    var t = easing(frame/durationInFrames)\n    frame += 1\n    setValues(t)\n    if (frame <= durationInFrames) {\n      previousAnimationId = scheduler.next(loop)\n      step(source)\n    } else {\n      previousAnimationId = 0\n      setTimeout(function() { done(source) }, 0)\n    }\n  }\n\n  function setValues(t) {\n    keys.forEach(function(key) {\n      source[key] = diff[key] * t + start[key]\n    })\n  }\n}\n\nfunction noop() { }\n\nfunction getScheduler(scheduler) {\n  if (!scheduler) {\n    var canRaf = typeof window !== 'undefined' && window.requestAnimationFrame\n    return canRaf ? rafScheduler() : timeoutScheduler()\n  }\n  if (typeof scheduler.next !== 'function') throw new Error('Scheduler is supposed to have next(cb) function')\n  if (typeof scheduler.cancel !== 'function') throw new Error('Scheduler is supposed to have cancel(handle) function')\n\n  return scheduler\n}\n\nfunction rafScheduler() {\n  return {\n    next: window.requestAnimationFrame.bind(window),\n    cancel: window.cancelAnimationFrame.bind(window)\n  }\n}\n\nfunction timeoutScheduler() {\n  return {\n    next: function(cb) {\n      return setTimeout(cb, 1000/60)\n    },\n    cancel: function (id) {\n      return clearTimeout(id)\n    }\n  }\n}\n\nfunction makeAggregateRaf() {\n  var frontBuffer = new Set();\n  var backBuffer = new Set();\n  var frameToken = 0;\n\n  return {\n    next: next,\n    cancel: next,\n    clearAll: clearAll\n  }\n\n  function clearAll() {\n    frontBuffer.clear();\n    backBuffer.clear();\n    cancelAnimationFrame(frameToken);\n    frameToken = 0;\n  }\n\n  function next(callback) {\n    backBuffer.add(callback);\n    renderNextFrame();\n  }\n\n  function renderNextFrame() {\n    if (!frameToken) frameToken = requestAnimationFrame(renderFrame);\n  }\n\n  function renderFrame() {\n    frameToken = 0;\n\n    var t = backBuffer;\n    backBuffer = frontBuffer;\n    frontBuffer = t;\r\n\n    frontBuffer.forEach(function(callback) {\n      callback();\n    });\n    frontBuffer.clear();\n  }\n\n  function cancel(callback) {\n    backBuffer.delete(callback);\n  }\n}\n","module.exports = \"data:image/png;base64,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\"","'use strict';\n/**\n * Allows to drag and zoom svg elements\n */\nvar wheel = require('wheel');\nvar animate = require('amator');\nvar eventify = require('ngraph.events');\nvar kinetic = require('./lib/kinetic.js');\nvar createTextSelectionInterceptor = require('./lib/createTextSelectionInterceptor.js');\nvar domTextSelectionInterceptor = createTextSelectionInterceptor();\nvar fakeTextSelectorInterceptor = createTextSelectionInterceptor(true);\nvar Transform = require('./lib/transform.js');\nvar makeSvgController = require('./lib/svgController.js');\nvar makeDomController = require('./lib/domController.js');\n\nvar defaultZoomSpeed = 1;\nvar defaultDoubleTapZoomSpeed = 1.75;\nvar doubleTapSpeedInMS = 300;\n\nmodule.exports = createPanZoom;\n\n/**\n * Creates a new instance of panzoom, so that an object can be panned and zoomed\n *\n * @param {DOMElement} domElement where panzoom should be attached.\n * @param {Object} options that configure behavior.\n */\nfunction createPanZoom(domElement, options) {\n  options = options || {};\n\n  var panController = options.controller;\n\n  if (!panController) {\n    if (makeSvgController.canAttach(domElement)) {\n      panController = makeSvgController(domElement, options);\n    } else if (makeDomController.canAttach(domElement)) {\n      panController = makeDomController(domElement, options);\n    }\n  }\n\n  if (!panController) {\n    throw new Error(\n      'Cannot create panzoom for the current type of dom element'\n    );\n  }\n  var owner = panController.getOwner();\n  // just to avoid GC pressure, every time we do intermediate transform\n  // we return this object. For internal use only. Never give it back to the consumer of this library\n  var storedCTMResult = { x: 0, y: 0 };\n\n  var isDirty = false;\n  var transform = new Transform();\n\n  if (panController.initTransform) {\n    panController.initTransform(transform);\n  }\n\n  var filterKey = typeof options.filterKey === 'function' ? options.filterKey : noop;\n  // TODO: likely need to unite pinchSpeed with zoomSpeed\n  var pinchSpeed = typeof options.pinchSpeed === 'number' ? options.pinchSpeed : 1;\n  var bounds = options.bounds;\n  var maxZoom = typeof options.maxZoom === 'number' ? options.maxZoom : Number.POSITIVE_INFINITY;\n  var minZoom = typeof options.minZoom === 'number' ? options.minZoom : 0;\n\n  var boundsPadding = typeof options.boundsPadding === 'number' ? options.boundsPadding : 0.05;\n  var zoomDoubleClickSpeed = typeof options.zoomDoubleClickSpeed === 'number' ? options.zoomDoubleClickSpeed : defaultDoubleTapZoomSpeed;\n  var beforeWheel = options.beforeWheel || noop;\n  var beforeMouseDown = options.beforeMouseDown || noop;\n  var speed = typeof options.zoomSpeed === 'number' ? options.zoomSpeed : defaultZoomSpeed;\n  var transformOrigin = parseTransformOrigin(options.transformOrigin);\n  var textSelection = options.enableTextSelection ? fakeTextSelectorInterceptor : domTextSelectionInterceptor;\n\n  validateBounds(bounds);\n\n  if (options.autocenter) {\n    autocenter();\n  }\n\n  var frameAnimation;\n  var lastTouchEndTime = 0;\n  var lastSingleFingerOffset;\n  var touchInProgress = false;\n\n  // We only need to fire panstart when actual move happens\n  var panstartFired = false;\n\n  // cache mouse coordinates here\n  var mouseX;\n  var mouseY;\n\n  var pinchZoomLength;\n\n  var smoothScroll;\n  if ('smoothScroll' in options && !options.smoothScroll) {\n    // If user explicitly asked us not to use smooth scrolling, we obey\n    smoothScroll = rigidScroll();\n  } else {\n    // otherwise we use forward smoothScroll settings to kinetic API\n    // which makes scroll smoothing.\n    smoothScroll = kinetic(getPoint, scroll, options.smoothScroll);\n  }\n\n  var moveByAnimation;\n  var zoomToAnimation;\n\n  var multiTouch;\n  var paused = false;\n\n  listenForEvents();\n\n  var api = {\n    dispose: dispose,\n    moveBy: internalMoveBy,\n    moveTo: moveTo,\n    smoothMoveTo: smoothMoveTo, \n    centerOn: centerOn,\n    zoomTo: publicZoomTo,\n    zoomAbs: zoomAbs,\n    smoothZoom: smoothZoom,\n    smoothZoomAbs: smoothZoomAbs,\n    showRectangle: showRectangle,\n\n    pause: pause,\n    resume: resume,\n    isPaused: isPaused,\n\n    getTransform: getTransformModel,\n\n    getMinZoom: getMinZoom,\n    setMinZoom: setMinZoom,\n\n    getMaxZoom: getMaxZoom,\n    setMaxZoom: setMaxZoom,\n\n    getTransformOrigin: getTransformOrigin,\n    setTransformOrigin: setTransformOrigin,\n\n    getZoomSpeed: getZoomSpeed,\n    setZoomSpeed: setZoomSpeed\n  };\n\n  eventify(api);\n  \n  var initialX = typeof options.initialX === 'number' ? options.initialX : transform.x;\n  var initialY = typeof options.initialY === 'number' ? options.initialY : transform.y;\n  var initialZoom = typeof options.initialZoom === 'number' ? options.initialZoom : transform.scale;\n\n  if(initialX != transform.x || initialY != transform.y || initialZoom != transform.scale){\n    zoomAbs(initialX, initialY, initialZoom);\n  }\n\n  return api;\n\n  function pause() {\n    releaseEvents();\n    paused = true;\n  }\n\n  function resume() {\n    if (paused) {\n      listenForEvents();\n      paused = false;\n    }\n  }\n\n  function isPaused() {\n    return paused;\n  }\n\n  function showRectangle(rect) {\n    // TODO: this duplicates autocenter. I think autocenter should go.\n    var clientRect = owner.getBoundingClientRect();\n    var size = transformToScreen(clientRect.width, clientRect.height);\n\n    var rectWidth = rect.right - rect.left;\n    var rectHeight = rect.bottom - rect.top;\n    if (!Number.isFinite(rectWidth) || !Number.isFinite(rectHeight)) {\n      throw new Error('Invalid rectangle');\n    }\n\n    var dw = size.x / rectWidth;\n    var dh = size.y / rectHeight;\n    var scale = Math.min(dw, dh);\n    transform.x = -(rect.left + rectWidth / 2) * scale + size.x / 2;\n    transform.y = -(rect.top + rectHeight / 2) * scale + size.y / 2;\n    transform.scale = scale;\n  }\n\n  function transformToScreen(x, y) {\n    if (panController.getScreenCTM) {\n      var parentCTM = panController.getScreenCTM();\n      var parentScaleX = parentCTM.a;\n      var parentScaleY = parentCTM.d;\n      var parentOffsetX = parentCTM.e;\n      var parentOffsetY = parentCTM.f;\n      storedCTMResult.x = x * parentScaleX - parentOffsetX;\n      storedCTMResult.y = y * parentScaleY - parentOffsetY;\n    } else {\n      storedCTMResult.x = x;\n      storedCTMResult.y = y;\n    }\n\n    return storedCTMResult;\n  }\n\n  function autocenter() {\n    var w; // width of the parent\n    var h; // height of the parent\n    var left = 0;\n    var top = 0;\n    var sceneBoundingBox = getBoundingBox();\n    if (sceneBoundingBox) {\n      // If we have bounding box - use it.\n      left = sceneBoundingBox.left;\n      top = sceneBoundingBox.top;\n      w = sceneBoundingBox.right - sceneBoundingBox.left;\n      h = sceneBoundingBox.bottom - sceneBoundingBox.top;\n    } else {\n      // otherwise just use whatever space we have\n      var ownerRect = owner.getBoundingClientRect();\n      w = ownerRect.width;\n      h = ownerRect.height;\n    }\n    var bbox = panController.getBBox();\n    if (bbox.width === 0 || bbox.height === 0) {\n      // we probably do not have any elements in the SVG\n      // just bail out;\n      return;\n    }\n    var dh = h / bbox.height;\n    var dw = w / bbox.width;\n    var scale = Math.min(dw, dh);\n    transform.x = -(bbox.left + bbox.width / 2) * scale + w / 2 + left;\n    transform.y = -(bbox.top + bbox.height / 2) * scale + h / 2 + top;\n    transform.scale = scale;\n  }\n\n  function getTransformModel() {\n    // TODO: should this be read only?\n    return transform;\n  }\n\n  function getMinZoom() {\n    return minZoom;\n  }\n\n  function setMinZoom(newMinZoom) {\n    minZoom = newMinZoom;\n  }\n\n  function getMaxZoom() {\n    return maxZoom;\n  }\n\n  function setMaxZoom(newMaxZoom) {\n    maxZoom = newMaxZoom;\n  }\n\n  function getTransformOrigin() {\n    return transformOrigin;\n  }\n\n  function setTransformOrigin(newTransformOrigin) {\n    transformOrigin = parseTransformOrigin(newTransformOrigin);\n  }\n\n  function getZoomSpeed() {\n    return speed;\n  }\n\n  function setZoomSpeed(newSpeed) {\n    if (!Number.isFinite(newSpeed)) {\n      throw new Error('Zoom speed should be a number');\n    }\n    speed = newSpeed;\n  }\n\n  function getPoint() {\n    return {\n      x: transform.x,\n      y: transform.y\n    };\n  }\n\n  function moveTo(x, y) {\n    transform.x = x;\n    transform.y = y;\n\n    keepTransformInsideBounds();\n\n    triggerEvent('pan');\n    makeDirty();\n  }\n\n  function moveBy(dx, dy) {\n    moveTo(transform.x + dx, transform.y + dy);\n  }\n\n  function keepTransformInsideBounds() {\n    var boundingBox = getBoundingBox();\n    if (!boundingBox) return;\n\n    var adjusted = false;\n    var clientRect = getClientRect();\n\n    var diff = boundingBox.left - clientRect.right;\n    if (diff > 0) {\n      transform.x += diff;\n      adjusted = true;\n    }\n    // check the other side:\n    diff = boundingBox.right - clientRect.left;\n    if (diff < 0) {\n      transform.x += diff;\n      adjusted = true;\n    }\n\n    // y axis:\n    diff = boundingBox.top - clientRect.bottom;\n    if (diff > 0) {\n      // we adjust transform, so that it matches exactly our bounding box:\n      // transform.y = boundingBox.top - (boundingBox.height + boundingBox.y) * transform.scale =>\n      // transform.y = boundingBox.top - (clientRect.bottom - transform.y) =>\n      // transform.y = diff + transform.y =>\n      transform.y += diff;\n      adjusted = true;\n    }\n\n    diff = boundingBox.bottom - clientRect.top;\n    if (diff < 0) {\n      transform.y += diff;\n      adjusted = true;\n    }\n    return adjusted;\n  }\n\n  /**\n   * Returns bounding box that should be used to restrict scene movement.\n   */\n  function getBoundingBox() {\n    if (!bounds) return; // client does not want to restrict movement\n\n    if (typeof bounds === 'boolean') {\n      // for boolean type we use parent container bounds\n      var ownerRect = owner.getBoundingClientRect();\n      var sceneWidth = ownerRect.width;\n      var sceneHeight = ownerRect.height;\n\n      return {\n        left: sceneWidth * boundsPadding,\n        top: sceneHeight * boundsPadding,\n        right: sceneWidth * (1 - boundsPadding),\n        bottom: sceneHeight * (1 - boundsPadding)\n      };\n    }\n\n    return bounds;\n  }\n\n  function getClientRect() {\n    var bbox = panController.getBBox();\n    var leftTop = client(bbox.left, bbox.top);\n\n    return {\n      left: leftTop.x,\n      top: leftTop.y,\n      right: bbox.width * transform.scale + leftTop.x,\n      bottom: bbox.height * transform.scale + leftTop.y\n    };\n  }\n\n  function client(x, y) {\n    return {\n      x: x * transform.scale + transform.x,\n      y: y * transform.scale + transform.y\n    };\n  }\n\n  function makeDirty() {\n    isDirty = true;\n    frameAnimation = window.requestAnimationFrame(frame);\n  }\n\n  function zoomByRatio(clientX, clientY, ratio) {\n    if (isNaN(clientX) || isNaN(clientY) || isNaN(ratio)) {\n      throw new Error('zoom requires valid numbers');\n    }\n\n    var newScale = transform.scale * ratio;\n\n    if (newScale < minZoom) {\n      if (transform.scale === minZoom) return;\n\n      ratio = minZoom / transform.scale;\n    }\n    if (newScale > maxZoom) {\n      if (transform.scale === maxZoom) return;\n\n      ratio = maxZoom / transform.scale;\n    }\n\n    var size = transformToScreen(clientX, clientY);\n\n    transform.x = size.x - ratio * (size.x - transform.x);\n    transform.y = size.y - ratio * (size.y - transform.y);\n\n    // TODO: https://github.com/anvaka/panzoom/issues/112\n    if (bounds && boundsPadding === 1 && minZoom === 1) {\n      transform.scale *= ratio;\n      keepTransformInsideBounds();\n    } else {\n      var transformAdjusted = keepTransformInsideBounds();\n      if (!transformAdjusted) transform.scale *= ratio;\n    }\n\n    triggerEvent('zoom');\n\n    makeDirty();\n  }\n\n  function zoomAbs(clientX, clientY, zoomLevel) {\n    var ratio = zoomLevel / transform.scale;\n    zoomByRatio(clientX, clientY, ratio);\n  }\n\n  function centerOn(ui) {\n    var parent = ui.ownerSVGElement;\n    if (!parent)\n      throw new Error('ui element is required to be within the scene');\n\n    // TODO: should i use controller's screen CTM?\n    var clientRect = ui.getBoundingClientRect();\n    var cx = clientRect.left + clientRect.width / 2;\n    var cy = clientRect.top + clientRect.height / 2;\n\n    var container = parent.getBoundingClientRect();\n    var dx = container.width / 2 - cx;\n    var dy = container.height / 2 - cy;\n\n    internalMoveBy(dx, dy, true);\n  }\n\n  function smoothMoveTo(x, y){\n    internalMoveBy(x - transform.x, y - transform.y, true);\n  }\n\n  function internalMoveBy(dx, dy, smooth) {\n    if (!smooth) {\n      return moveBy(dx, dy);\n    }\n\n    if (moveByAnimation) moveByAnimation.cancel();\n\n    var from = { x: 0, y: 0 };\n    var to = { x: dx, y: dy };\n    var lastX = 0;\n    var lastY = 0;\n\n    moveByAnimation = animate(from, to, {\n      step: function (v) {\n        moveBy(v.x - lastX, v.y - lastY);\n\n        lastX = v.x;\n        lastY = v.y;\n      }\n    });\n  }\n\n  function scroll(x, y) {\n    cancelZoomAnimation();\n    moveTo(x, y);\n  }\n\n  function dispose() {\n    releaseEvents();\n  }\n\n  function listenForEvents() {\n    owner.addEventListener('mousedown', onMouseDown, { passive: false });\n    owner.addEventListener('dblclick', onDoubleClick, { passive: false });\n    owner.addEventListener('touchstart', onTouch, { passive: false });\n    owner.addEventListener('keydown', onKeyDown, { passive: false });\n\n    // Need to listen on the owner container, so that we are not limited\n    // by the size of the scrollable domElement\n    wheel.addWheelListener(owner, onMouseWheel, { passive: false });\n\n    makeDirty();\n  }\n\n  function releaseEvents() {\n    wheel.removeWheelListener(owner, onMouseWheel);\n    owner.removeEventListener('mousedown', onMouseDown);\n    owner.removeEventListener('keydown', onKeyDown);\n    owner.removeEventListener('dblclick', onDoubleClick);\n    owner.removeEventListener('touchstart', onTouch);\n\n    if (frameAnimation) {\n      window.cancelAnimationFrame(frameAnimation);\n      frameAnimation = 0;\n    }\n\n    smoothScroll.cancel();\n\n    releaseDocumentMouse();\n    releaseTouches();\n    textSelection.release();\n\n    triggerPanEnd();\n  }\n\n  function frame() {\n    if (isDirty) applyTransform();\n  }\n\n  function applyTransform() {\n    isDirty = false;\n\n    // TODO: Should I allow to cancel this?\n    panController.applyTransform(transform);\n\n    triggerEvent('transform');\n    frameAnimation = 0;\n  }\n\n  function onKeyDown(e) {\n    var x = 0,\n      y = 0,\n      z = 0;\n    if (e.keyCode === 38) {\n      y = 1; // up\n    } else if (e.keyCode === 40) {\n      y = -1; // down\n    } else if (e.keyCode === 37) {\n      x = 1; // left\n    } else if (e.keyCode === 39) {\n      x = -1; // right\n    } else if (e.keyCode === 189 || e.keyCode === 109) {\n      // DASH or SUBTRACT\n      z = 1; // `-` -  zoom out\n    } else if (e.keyCode === 187 || e.keyCode === 107) {\n      // EQUAL SIGN or ADD\n      z = -1; // `=` - zoom in (equal sign on US layout is under `+`)\n    }\n\n    if (filterKey(e, x, y, z)) {\n      // They don't want us to handle the key: https://github.com/anvaka/panzoom/issues/45\n      return;\n    }\n\n    if (x || y) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      var clientRect = owner.getBoundingClientRect();\n      // movement speed should be the same in both X and Y direction:\n      var offset = Math.min(clientRect.width, clientRect.height);\n      var moveSpeedRatio = 0.05;\n      var dx = offset * moveSpeedRatio * x;\n      var dy = offset * moveSpeedRatio * y;\n\n      // TODO: currently we do not animate this. It could be better to have animation\n      internalMoveBy(dx, dy);\n    }\n\n    if (z) {\n      var scaleMultiplier = getScaleMultiplier(z * 100);\n      var offset = transformOrigin ? getTransformOriginOffset() : midPoint();\n      publicZoomTo(offset.x, offset.y, scaleMultiplier);\n    }\n  }\n\n  function midPoint() {\n    var ownerRect = owner.getBoundingClientRect();\n    return {\n      x: ownerRect.width / 2,\n      y: ownerRect.height / 2\n    };\n  }\n\n  function onTouch(e) {\n    // let the override the touch behavior\n    beforeTouch(e);\n\n    if (e.touches.length === 1) {\n      return handleSingleFingerTouch(e, e.touches[0]);\n    } else if (e.touches.length === 2) {\n      // handleTouchMove() will care about pinch zoom.\n      pinchZoomLength = getPinchZoomLength(e.touches[0], e.touches[1]);\n      multiTouch = true;\n      startTouchListenerIfNeeded();\n    }\n  }\n\n  function beforeTouch(e) {\n    // TODO: Need to unify this filtering names. E.g. use `beforeTouch`\n    if (options.onTouch && !options.onTouch(e)) {\n      // if they return `false` from onTouch, we don't want to stop\n      // events propagation. Fixes https://github.com/anvaka/panzoom/issues/12\n      return;\n    }\n\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  function beforeDoubleClick(e) {\n    // TODO: Need to unify this filtering names. E.g. use `beforeDoubleClick``\n    if (options.onDoubleClick && !options.onDoubleClick(e)) {\n      // if they return `false` from onTouch, we don't want to stop\n      // events propagation. Fixes https://github.com/anvaka/panzoom/issues/46\n      return;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  function handleSingleFingerTouch(e) {\n    var touch = e.touches[0];\n    var offset = getOffsetXY(touch);\n    lastSingleFingerOffset = offset;\n    var point = transformToScreen(offset.x, offset.y);\n    mouseX = point.x;\n    mouseY = point.y;\n\n    smoothScroll.cancel();\n    startTouchListenerIfNeeded();\n  }\n\n  function startTouchListenerIfNeeded() {\n    if (touchInProgress) {\n      // no need to do anything, as we already listen to events;\n      return;\n    }\n\n    touchInProgress = true;\n    document.addEventListener('touchmove', handleTouchMove);\n    document.addEventListener('touchend', handleTouchEnd);\n    document.addEventListener('touchcancel', handleTouchEnd);\n  }\n\n  function handleTouchMove(e) {\n    if (e.touches.length === 1) {\n      e.stopPropagation();\n      var touch = e.touches[0];\n\n      var offset = getOffsetXY(touch);\n      var point = transformToScreen(offset.x, offset.y);\n\n      var dx = point.x - mouseX;\n      var dy = point.y - mouseY;\n\n      if (dx !== 0 && dy !== 0) {\n        triggerPanStart();\n      }\n      mouseX = point.x;\n      mouseY = point.y;\n      internalMoveBy(dx, dy);\n    } else if (e.touches.length === 2) {\n      // it's a zoom, let's find direction\n      multiTouch = true;\n      var t1 = e.touches[0];\n      var t2 = e.touches[1];\n      var currentPinchLength = getPinchZoomLength(t1, t2);\n\n      // since the zoom speed is always based on distance from 1, we need to apply\n      // pinch speed only on that distance from 1:\n      var scaleMultiplier =\n        1 + (currentPinchLength / pinchZoomLength - 1) * pinchSpeed;\n\n      var firstTouchPoint = getOffsetXY(t1);\n      var secondTouchPoint = getOffsetXY(t2);\n      mouseX = (firstTouchPoint.x + secondTouchPoint.x) / 2;\n      mouseY = (firstTouchPoint.y + secondTouchPoint.y) / 2;\n      if (transformOrigin) {\n        var offset = getTransformOriginOffset();\n        mouseX = offset.x;\n        mouseY = offset.y;\n      }\n\n      publicZoomTo(mouseX, mouseY, scaleMultiplier);\n\n      pinchZoomLength = currentPinchLength;\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n\n  function handleTouchEnd(e) {\n    if (e.touches.length > 0) {\n      var offset = getOffsetXY(e.touches[0]);\n      var point = transformToScreen(offset.x, offset.y);\n      mouseX = point.x;\n      mouseY = point.y;\n    } else {\n      var now = new Date();\n      if (now - lastTouchEndTime < doubleTapSpeedInMS) {\n        if (transformOrigin) {\n          var offset = getTransformOriginOffset();\n          smoothZoom(offset.x, offset.y, zoomDoubleClickSpeed);\n        } else {\n          // We want untransformed x/y here.\n          smoothZoom(lastSingleFingerOffset.x, lastSingleFingerOffset.y, zoomDoubleClickSpeed);\n        }\n      }\n\n      lastTouchEndTime = now;\n\n      triggerPanEnd();\n      releaseTouches();\n    }\n  }\n\n  function getPinchZoomLength(finger1, finger2) {\n    var dx = finger1.clientX - finger2.clientX;\n    var dy = finger1.clientY - finger2.clientY;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  function onDoubleClick(e) {\n    beforeDoubleClick(e);\n    var offset = getOffsetXY(e);\n    if (transformOrigin) {\n      // TODO: looks like this is duplicated in the file.\n      // Need to refactor\n      offset = getTransformOriginOffset();\n    }\n    smoothZoom(offset.x, offset.y, zoomDoubleClickSpeed);\n  }\n\n  function onMouseDown(e) {\n    // if client does not want to handle this event - just ignore the call\n    if (beforeMouseDown(e)) return;\n\n    if (touchInProgress) {\n      // modern browsers will fire mousedown for touch events too\n      // we do not want this: touch is handled separately.\n      e.stopPropagation();\n      return false;\n    }\n    // for IE, left click == 1\n    // for Firefox, left click == 0\n    var isLeftButton =\n      (e.button === 1 && window.event !== null) || e.button === 0;\n    if (!isLeftButton) return;\n\n    smoothScroll.cancel();\n\n    var offset = getOffsetXY(e);\n    var point = transformToScreen(offset.x, offset.y);\n    mouseX = point.x;\n    mouseY = point.y;\n\n    // We need to listen on document itself, since mouse can go outside of the\n    // window, and we will loose it\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n    textSelection.capture(e.target || e.srcElement);\n\n    return false;\n  }\n\n  function onMouseMove(e) {\n    // no need to worry about mouse events when touch is happening\n    if (touchInProgress) return;\n\n    triggerPanStart();\n\n    var offset = getOffsetXY(e);\n    var point = transformToScreen(offset.x, offset.y);\n    var dx = point.x - mouseX;\n    var dy = point.y - mouseY;\n\n    mouseX = point.x;\n    mouseY = point.y;\n\n    internalMoveBy(dx, dy);\n  }\n\n  function onMouseUp() {\n    textSelection.release();\n    triggerPanEnd();\n    releaseDocumentMouse();\n  }\n\n  function releaseDocumentMouse() {\n    document.removeEventListener('mousemove', onMouseMove);\n    document.removeEventListener('mouseup', onMouseUp);\n    panstartFired = false;\n  }\n\n  function releaseTouches() {\n    document.removeEventListener('touchmove', handleTouchMove);\n    document.removeEventListener('touchend', handleTouchEnd);\n    document.removeEventListener('touchcancel', handleTouchEnd);\n    panstartFired = false;\n    multiTouch = false;\n    touchInProgress = false;\n  }\n\n  function onMouseWheel(e) {\n    // if client does not want to handle this event - just ignore the call\n    if (beforeWheel(e)) return;\n\n    smoothScroll.cancel();\n\n    var delta = e.deltaY;\n    if (e.deltaMode > 0) delta *= 100;\n\n    var scaleMultiplier = getScaleMultiplier(delta);\n\n    if (scaleMultiplier !== 1) {\n      var offset = transformOrigin\n        ? getTransformOriginOffset()\n        : getOffsetXY(e);\n      publicZoomTo(offset.x, offset.y, scaleMultiplier);\n      e.preventDefault();\n    }\n  }\n\n  function getOffsetXY(e) {\n    var offsetX, offsetY;\n    // I tried using e.offsetX, but that gives wrong results for svg, when user clicks on a path.\n    var ownerRect = owner.getBoundingClientRect();\n    offsetX = e.clientX - ownerRect.left;\n    offsetY = e.clientY - ownerRect.top;\n\n    return { x: offsetX, y: offsetY };\n  }\n\n  function smoothZoom(clientX, clientY, scaleMultiplier) {\n    var fromValue = transform.scale;\n    var from = { scale: fromValue };\n    var to = { scale: scaleMultiplier * fromValue };\n\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n\n    zoomToAnimation = animate(from, to, {\n      step: function (v) {\n        zoomAbs(clientX, clientY, v.scale);\n      },\n      done: triggerZoomEnd\n    });\n  }\n\n  function smoothZoomAbs(clientX, clientY, toScaleValue) {\n    var fromValue = transform.scale;\n    var from = { scale: fromValue };\n    var to = { scale: toScaleValue };\n\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n\n    zoomToAnimation = animate(from, to, {\n      step: function (v) {\n        zoomAbs(clientX, clientY, v.scale);\n      }\n    });\n  }\n\n  function getTransformOriginOffset() {\n    var ownerRect = owner.getBoundingClientRect();\n    return {\n      x: ownerRect.width * transformOrigin.x,\n      y: ownerRect.height * transformOrigin.y\n    };\n  }\n\n  function publicZoomTo(clientX, clientY, scaleMultiplier) {\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n    return zoomByRatio(clientX, clientY, scaleMultiplier);\n  }\n\n  function cancelZoomAnimation() {\n    if (zoomToAnimation) {\n      zoomToAnimation.cancel();\n      zoomToAnimation = null;\n    }\n  }\n\n  function getScaleMultiplier(delta) {\n    var sign = Math.sign(delta);\n    var deltaAdjustedSpeed = Math.min(0.25, Math.abs(speed * delta / 128));\n    return 1 - sign * deltaAdjustedSpeed;\n  }\n\n  function triggerPanStart() {\n    if (!panstartFired) {\n      triggerEvent('panstart');\n      panstartFired = true;\n      smoothScroll.start();\n    }\n  }\n\n  function triggerPanEnd() {\n    if (panstartFired) {\n      // we should never run smooth scrolling if it was multiTouch (pinch zoom animation):\n      if (!multiTouch) smoothScroll.stop();\n      triggerEvent('panend');\n    }\n  }\n\n  function triggerZoomEnd() {\n    triggerEvent('zoomend');\n  }\n\n  function triggerEvent(name) {\n    api.fire(name, api);\n  }\n}\n\nfunction parseTransformOrigin(options) {\n  if (!options) return;\n  if (typeof options === 'object') {\n    if (!isNumber(options.x) || !isNumber(options.y))\n      failTransformOrigin(options);\n    return options;\n  }\n\n  failTransformOrigin();\n}\n\nfunction failTransformOrigin(options) {\n  console.error(options);\n  throw new Error(\n    [\n      'Cannot parse transform origin.',\n      'Some good examples:',\n      '  \"center center\" can be achieved with {x: 0.5, y: 0.5}',\n      '  \"top center\" can be achieved with {x: 0.5, y: 0}',\n      '  \"bottom right\" can be achieved with {x: 1, y: 1}'\n    ].join('\\n')\n  );\n}\n\nfunction noop() { }\n\nfunction validateBounds(bounds) {\n  var boundsType = typeof bounds;\n  if (boundsType === 'undefined' || boundsType === 'boolean') return; // this is okay\n  // otherwise need to be more thorough:\n  var validBounds =\n    isNumber(bounds.left) &&\n    isNumber(bounds.top) &&\n    isNumber(bounds.bottom) &&\n    isNumber(bounds.right);\n\n  if (!validBounds)\n    throw new Error(\n      'Bounds object is not valid. It can be: ' +\n      'undefined, boolean (true|false) or an object {left, top, right, bottom}'\n    );\n}\n\nfunction isNumber(x) {\n  return Number.isFinite(x);\n}\n\n// IE 11 does not support isNaN:\nfunction isNaN(value) {\n  if (Number.isNaN) {\n    return Number.isNaN(value);\n  }\n\n  return value !== value;\n}\n\nfunction rigidScroll() {\n  return {\n    start: noop,\n    stop: noop,\n    cancel: noop\n  };\n}\n\nfunction autoRun() {\n  if (typeof document === 'undefined') return;\n\n  var scripts = document.getElementsByTagName('script');\n  if (!scripts) return;\n  var panzoomScript;\n\n  for (var i = 0; i < scripts.length; ++i) {\n    var x = scripts[i];\n    if (x.src && x.src.match(/\\bpanzoom(\\.min)?\\.js/)) {\n      panzoomScript = x;\n      break;\n    }\n  }\n\n  if (!panzoomScript) return;\n\n  var query = panzoomScript.getAttribute('query');\n  if (!query) return;\n\n  var globalName = panzoomScript.getAttribute('name') || 'pz';\n  var started = Date.now();\n\n  tryAttach();\n\n  function tryAttach() {\n    var el = document.querySelector(query);\n    if (!el) {\n      var now = Date.now();\n      var elapsed = now - started;\n      if (elapsed < 2000) {\n        // Let's wait a bit\n        setTimeout(tryAttach, 100);\n        return;\n      }\n      // If we don't attach within 2 seconds to the target element, consider it a failure\n      console.error('Cannot find the panzoom element', globalName);\n      return;\n    }\n    var options = collectOptions(panzoomScript);\n    console.log(options);\n    window[globalName] = createPanZoom(el, options);\n  }\n\n  function collectOptions(script) {\n    var attrs = script.attributes;\n    var options = {};\n    for (var j = 0; j < attrs.length; ++j) {\n      var attr = attrs[j];\n      var nameValue = getPanzoomAttributeNameValue(attr);\n      if (nameValue) {\n        options[nameValue.name] = nameValue.value;\n      }\n    }\n\n    return options;\n  }\n\n  function getPanzoomAttributeNameValue(attr) {\n    if (!attr.name) return;\n    var isPanZoomAttribute =\n      attr.name[0] === 'p' && attr.name[1] === 'z' && attr.name[2] === '-';\n\n    if (!isPanZoomAttribute) return;\n\n    var name = attr.name.substr(3);\n    var value = JSON.parse(attr.value);\n    return { name: name, value: value };\n  }\n}\n\nautoRun();\n\t","/**\n * This module used to unify mouse wheel behavior between different browsers in 2014\n * Now it's just a wrapper around addEventListener('wheel');\n *\n * Usage:\n *  var addWheelListener = require('wheel').addWheelListener;\n *  var removeWheelListener = require('wheel').removeWheelListener;\n *  addWheelListener(domElement, function (e) {\n *    // mouse wheel event\n *  });\n *  removeWheelListener(domElement, function);\n */\n\nmodule.exports = addWheelListener;\n\n// But also expose \"advanced\" api with unsubscribe:\nmodule.exports.addWheelListener = addWheelListener;\nmodule.exports.removeWheelListener = removeWheelListener;\n\n\nfunction addWheelListener(element, listener, useCapture) {\n  element.addEventListener('wheel', listener, useCapture);\n}\n\nfunction removeWheelListener( element, listener, useCapture ) {\n  element.removeEventListener('wheel', listener, useCapture);\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Map.vue?vue&type=style&index=0&id=da944500&scoped=true&lang=css\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","module.exports = \"data:image/png;base64,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\"","module.exports = makeSvgController;\nmodule.exports.canAttach = isSVGElement;\n\nfunction makeSvgController(svgElement, options) {\n  if (!isSVGElement(svgElement)) {\n    throw new Error('svg element is required for svg.panzoom to work');\n  }\n\n  var owner = svgElement.ownerSVGElement;\n  if (!owner) {\n    throw new Error(\n      'Do not apply panzoom to the root <svg> element. ' +\n      'Use its child instead (e.g. <g></g>). ' +\n      'As of March 2016 only FireFox supported transform on the root element');\n  }\n\n  if (!options.disableKeyboardInteraction) {\n    owner.setAttribute('tabindex', 0);\n  }\n\n  var api = {\n    getBBox: getBBox,\n    getScreenCTM: getScreenCTM,\n    getOwner: getOwner,\n    applyTransform: applyTransform,\n    initTransform: initTransform\n  };\n  \n  return api;\n\n  function getOwner() {\n    return owner;\n  }\n\n  function getBBox() {\n    var bbox =  svgElement.getBBox();\n    return {\n      left: bbox.x,\n      top: bbox.y,\n      width: bbox.width,\n      height: bbox.height,\n    };\n  }\n\n  function getScreenCTM() {\n    var ctm = owner.getCTM();\n    if (!ctm) {\n      // This is likely firefox: https://bugzilla.mozilla.org/show_bug.cgi?id=873106\n      // The code below is not entirely correct, but still better than nothing\n      return owner.getScreenCTM();\n    }\n    return ctm;\n  }\n\n  function initTransform(transform) {\n    var screenCTM = svgElement.getCTM();\n\n    // The above line returns null on Firefox\n    if (screenCTM === null) {\n      screenCTM = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\").createSVGMatrix();\n    }\n\n    transform.x = screenCTM.e;\n    transform.y = screenCTM.f;\n    transform.scale = screenCTM.a;\n    owner.removeAttributeNS(null, 'viewBox');\n  }\n\n  function applyTransform(transform) {\n    svgElement.setAttribute('transform', 'matrix(' +\n      transform.scale + ' 0 0 ' +\n      transform.scale + ' ' +\n      transform.x + ' ' + transform.y + ')');\n  }\n}\n\nfunction isSVGElement(element) {\n  return element && element.ownerSVGElement && element.getCTM;\n}","/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n */\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nvar float32ArraySupported = typeof Float32Array === 'function';\n\nfunction A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\nfunction B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\nfunction C (aA1)      { return 3.0 * aA1; }\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier (aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT; }\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope (aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1); }\n\nfunction binarySubdivide (aX, aA, aB, mX1, mX2) {\n  var currentX, currentT, i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n}\n\nfunction newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n   var currentSlope = getSlope(aGuessT, mX1, mX2);\n   if (currentSlope === 0.0) {\n     return aGuessT;\n   }\n   var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n   aGuessT -= currentX / currentSlope;\n }\n return aGuessT;\n}\n\nfunction LinearEasing (x) {\n  return x;\n}\n\nmodule.exports = function bezier (mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error('bezier x values must be in [0, 1] range');\n  }\n\n  if (mX1 === mY1 && mX2 === mY2) {\n    return LinearEasing;\n  }\n\n  // Precompute samples table\n  var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  function getTForX (aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n\n    // Interpolate to provide an initial guess for t\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function BezierEasing (x) {\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (x === 0) {\n      return 0;\n    }\n    if (x === 1) {\n      return 1;\n    }\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n};\n","module.exports = \"data:image/png;base64,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\"","/**\n * Allows smooth kinetic scrolling of the surface\n */\nmodule.exports = kinetic;\n\nfunction kinetic(getPoint, scroll, settings) {\n  if (typeof settings !== 'object') {\n    // setting could come as boolean, we should ignore it, and use an object.\n    settings = {};\n  }\n\n  var minVelocity = typeof settings.minVelocity === 'number' ? settings.minVelocity : 5;\n  var amplitude = typeof settings.amplitude === 'number' ? settings.amplitude : 0.25;\n  var cancelAnimationFrame = typeof settings.cancelAnimationFrame === 'function' ? settings.cancelAnimationFrame : getCancelAnimationFrame();\n  var requestAnimationFrame = typeof settings.requestAnimationFrame === 'function' ? settings.requestAnimationFrame : getRequestAnimationFrame();\n\n  var lastPoint;\n  var timestamp;\n  var timeConstant = 342;\n\n  var ticker;\n  var vx, targetX, ax;\n  var vy, targetY, ay;\n\n  var raf;\n\n  return {\n    start: start,\n    stop: stop,\n    cancel: dispose\n  };\n\n  function dispose() {\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n  }\n\n  function start() {\n    lastPoint = getPoint();\n\n    ax = ay = vx = vy = 0;\n    timestamp = new Date();\n\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n\n    // we start polling the point position to accumulate velocity\n    // Once we stop(), we will use accumulated velocity to keep scrolling\n    // an object.\n    ticker = requestAnimationFrame(track);\n  }\n\n  function track() {\n    var now = Date.now();\n    var elapsed = now - timestamp;\n    timestamp = now;\n\n    var currentPoint = getPoint();\n\n    var dx = currentPoint.x - lastPoint.x;\n    var dy = currentPoint.y - lastPoint.y;\n\n    lastPoint = currentPoint;\n\n    var dt = 1000 / (1 + elapsed);\n\n    // moving average\n    vx = 0.8 * dx * dt + 0.2 * vx;\n    vy = 0.8 * dy * dt + 0.2 * vy;\n\n    ticker = requestAnimationFrame(track);\n  }\n\n  function stop() {\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n\n    var currentPoint = getPoint();\n\n    targetX = currentPoint.x;\n    targetY = currentPoint.y;\n    timestamp = Date.now();\n\n    if (vx < -minVelocity || vx > minVelocity) {\n      ax = amplitude * vx;\n      targetX += ax;\n    }\n\n    if (vy < -minVelocity || vy > minVelocity) {\n      ay = amplitude * vy;\n      targetY += ay;\n    }\n\n    raf = requestAnimationFrame(autoScroll);\n  }\n\n  function autoScroll() {\n    var elapsed = Date.now() - timestamp;\n\n    var moving = false;\n    var dx = 0;\n    var dy = 0;\n\n    if (ax) {\n      dx = -ax * Math.exp(-elapsed / timeConstant);\n\n      if (dx > 0.5 || dx < -0.5) moving = true;\n      else dx = ax = 0;\n    }\n\n    if (ay) {\n      dy = -ay * Math.exp(-elapsed / timeConstant);\n\n      if (dy > 0.5 || dy < -0.5) moving = true;\n      else dy = ay = 0;\n    }\n\n    if (moving) {\n      scroll(targetX + dx, targetY + dy);\n      raf = requestAnimationFrame(autoScroll);\n    }\n  }\n}\n\nfunction getCancelAnimationFrame() {\n  if (typeof cancelAnimationFrame === 'function') return cancelAnimationFrame;\n  return clearTimeout;\n}\n\nfunction getRequestAnimationFrame() {\n  if (typeof requestAnimationFrame === 'function') return requestAnimationFrame;\n\n  return function (handler) {\n    return setTimeout(handler, 16);\n  };\n}"],"sourceRoot":""}